# =============================================================================
# CoreVisitor - Docker Environment Configuration
# =============================================================================
# Copia questo file in .env quando esegui con Docker:
#   cp .env.docker .env
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
NODE_ENV=production
APP_NAME=CoreVisitor
APP_PORT=3006
APP_URL=http://localhost:83

# -----------------------------------------------------------------------------
# Database (MySQL condiviso con CoreServices)
# IMPORTANTE: In Docker, usa i nomi dei container come host
# -----------------------------------------------------------------------------
MYSQL_HOST=core-mysql
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=rootpassword
MYSQL_DATABASE=corevisitor
DATABASE_URL=mysql://root:rootpassword@core-mysql:3306/corevisitor

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
JWT_SECRET=corevisitor-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# Frontend API URL
# In produzione con nginx: usa path relativo /api (gestito da core-nginx porta 83)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_URL=/api

# -----------------------------------------------------------------------------
# CORS Origins
# -----------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:3000,http://localhost:83,http://localhost:3005

# -----------------------------------------------------------------------------
# MinIO Object Storage (CoreServices condiviso)
# IMPORTANTE: In Docker, usa 'core-minio' come host
# -----------------------------------------------------------------------------
MINIO_ENDPOINT=core-minio
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_NAME=corevisitor-files

# -----------------------------------------------------------------------------
# Meilisearch (CoreServices condiviso)
# IMPORTANTE: In Docker, usa 'core-meilisearch' come host
# -----------------------------------------------------------------------------
MEILISEARCH_HOST=http://core-meilisearch:7700
MEILISEARCH_API_KEY=masterKeyChangeThis
MEILI_MASTER_KEY=masterKeyChangeThis
MEILI_ENV=production

# -----------------------------------------------------------------------------
# File Upload
# -----------------------------------------------------------------------------
MAX_FILE_SIZE=5242880

# -----------------------------------------------------------------------------
# Badge/QR Code
# -----------------------------------------------------------------------------
QR_CODE_EXPIRY_HOURS=24
BADGE_TEMPLATE_PATH=./templates/badge.html

# -----------------------------------------------------------------------------
# Notifications (Opzionale - disabilitato di default)
# -----------------------------------------------------------------------------
NOTIFICATIONS_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@corevisitor.com

# -----------------------------------------------------------------------------
# Visitor Management
# -----------------------------------------------------------------------------
DEFAULT_VISIT_DURATION_HOURS=8
VISIT_HISTORY_RETENTION_DAYS=365
AUTO_CHECKOUT_HOURS=12

# -----------------------------------------------------------------------------
# Timezone
# -----------------------------------------------------------------------------
TZ=Europe/Rome
