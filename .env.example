# =============================================================================
# CoreVisitor - Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
NODE_ENV=production
APP_NAME=CoreVisitor
APP_PORT_BACKEND=3004
APP_PORT_FRONTEND=3005
NGINX_PORT=82

# -----------------------------------------------------------------------------
# Database (MySQL condiviso con CoreServices)
# -----------------------------------------------------------------------------
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=rootpassword
MYSQL_DATABASE=corevisitor
DATABASE_URL=mysql://${MYSQL_USER}:${MYSQL_PASSWORD}@${MYSQL_HOST}:${MYSQL_PORT}/${MYSQL_DATABASE}

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
JWT_SECRET=corevisitor-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# Frontend API URL
# In produzione con nginx: usa path relativo /api
# In sviluppo locale: usa http://localhost:3004/api
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_URL=/api

# -----------------------------------------------------------------------------
# CORS Origins
# -----------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:3005,http://localhost:82

# -----------------------------------------------------------------------------
# MinIO Object Storage (CoreServices condiviso)
# Per storage documenti identità scansionati
# -----------------------------------------------------------------------------
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=corevisitor
MINIO_REGION=us-east-1

# -----------------------------------------------------------------------------
# Meilisearch (CoreServices condiviso)
# Per ricerca veloce visitatori e visite
# -----------------------------------------------------------------------------
MEILISEARCH_HOST=http://meilisearch:7700
MEILISEARCH_API_KEY=masterKey

# -----------------------------------------------------------------------------
# File Upload
# -----------------------------------------------------------------------------
MAX_FILE_SIZE=5242880

# -----------------------------------------------------------------------------
# Badge/QR Code
# -----------------------------------------------------------------------------
QR_CODE_EXPIRY_HOURS=24
BADGE_TEMPLATE_PATH=./templates/badge.html

# -----------------------------------------------------------------------------
# Notifications (Settings - disabilitati di default)
# -----------------------------------------------------------------------------
NOTIFICATIONS_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@corevisitor.com

# -----------------------------------------------------------------------------
# Visitor Management
# -----------------------------------------------------------------------------
# Durata predefinita visita in ore
DEFAULT_VISIT_DURATION_HOURS=8
# Giorni di retention storico visite (per GDPR)
VISIT_HISTORY_RETENTION_DAYS=365
# Auto check-out dopo N ore di inattività
AUTO_CHECKOUT_HOURS=12

# -----------------------------------------------------------------------------
# Timezone
# -----------------------------------------------------------------------------
TZ=Europe/Rome
